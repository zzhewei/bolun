(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bd7b6"],{"2bd4":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("b-overlay",{attrs:{show:t.loading,opacity:"0.5"}},[e("div",{staticClass:"d-flex mb-3 align-items-center"},[e("div",{staticClass:"d-flex flex-column mr-2"},[e("game-select",{model:{value:t.detailsReq.game_name,callback:function(a){t.$set(t.detailsReq,"game_name",a)},expression:"detailsReq.game_name"}})],1),e("div",{staticClass:"d-flex flex-column mr-2"},[e("product-select",{attrs:{game_name:t.detailsReq.game_name},model:{value:t.detailsReq.package_name,callback:function(a){t.$set(t.detailsReq,"package_name",a)},expression:"detailsReq.package_name"}})],1),e("l-button",{staticClass:"mr-2",attrs:{msg:"搜索"},on:{click:function(a){return t.getData(1,t.detailsReq.pagerNum)}}})],1),e("b-table",{attrs:{hover:"",bordered:"","show-empty":"","empty-text":"暂无数据",items:t.tableData.list,fields:t.columns,"primary-key":"package_code"},scopedSlots:t._u([{key:"cell(action)",fn:function(a){return[e("span",{staticClass:"text-danger pointer",on:{click:function(e){return t.$refs.ApportionDialog.show(a.item)}}},[t._v("分配")])]}}])},[e("template",{slot:"table-colgroup"},t._l(t.columns,(function(t){return e("col",{key:t.key,style:{width:t.width}})})),0)],2),e("m-pagination",{attrs:{data:t.tableData},on:{handleSizeChange:t.getData}}),e("apportion-dialog",{ref:"ApportionDialog",on:{confirm:t.doAllocation}})],1)},n=[],o=e("051c"),l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a-modal",{attrs:{title:"批量分配",visible:t.visible,keyboard:!1,destroyOnClose:!0,maskClosable:!1,width:400},on:{cancel:function(a){t.visible=!1}}},[e("a-form",{attrs:{size:"small","label-col":{span:5},"wrapper-col":{span:19}}},[e("a-form-item",{staticClass:"mb-0",attrs:{label:"游戏名称"}},[e("a-input",{attrs:{disabled:!0,value:t.apportionReq.game_name}})],1),e("a-form-item",{staticClass:"mb-0",attrs:{label:"档位名称"}},[e("a-input",{attrs:{disabled:!0,value:t.apportionReq.package_name}})],1),e("a-form-item",{staticClass:"mb-0",attrs:{label:"档位价格"}},[e("a-input",{attrs:{disabled:!0,value:t.apportionReq.package_fee}})],1),e("a-form-item",{staticClass:"mb-0",attrs:{label:"可用数量"}},[e("a-input",{attrs:{disabled:!0,value:t.apportionReq.normal_amount}})],1),e("a-form-item",{staticClass:"mb-0",attrs:{label:"子账户"}},[e("child-select",{staticClass:"w-100",model:{value:t.apportionReq.owner,callback:function(a){t.$set(t.apportionReq,"owner",a)},expression:"apportionReq.owner"}})],1),e("a-form-item",{staticClass:"mb-0",attrs:{label:"调整数量"}},[e("a-input-number",{staticClass:"w-100",attrs:{min:1,max:t.apportionReq.normal_amount,precision:0},model:{value:t.apportionReq.apportionNum,callback:function(a){t.$set(t.apportionReq,"apportionNum",a)},expression:"apportionReq.apportionNum"}})],1)],1),e("span",{attrs:{slot:"footer"},slot:"footer"},[e("l-button",{staticClass:"mr-2",attrs:{msg:"取消",icon:"",type:""},on:{click:function(a){t.visible=!1}}}),e("l-button",{attrs:{msg:"确定",icon:""},on:{click:t.handleOk}})],1)],1)},s=[],r={name:"ApportionDialog",data:function(){return{visible:!1,apportionReq:{}}},methods:{show:function(t){this.apportionReq=JSON.parse(JSON.stringify(t)),this.visible=!0},handleOk:function(){this.visible=!1,this.$emit("confirm",this.apportionReq)}}},c=r,m=e("2877"),p=Object(m["a"])(c,l,s,!1,null,"31854213",null),d=p.exports,u=[{label:"游戏名称",key:"game_name",width:"25%"},{label:"档位名称",key:"package_name",width:"30%"},{label:"档位价格",key:"package_fee",width:"15%"},{label:"可使用",key:"normal_amount",width:"10%"},{label:"已分配",key:"allocated_amount",width:"10%"},{label:"操作",key:"action",width:"10%"}],b={name:"StockPandect",components:{ApportionDialog:d},data:function(){return{columns:u,loading:!1,detailsReq:{game_name:null,package_name:null,pagerIndex:1,pagerNum:100},tableData:{}}},methods:{getData:function(t,a){var e=this;this.loading=!0,this.detailsReq.pagerIndex=t,this.detailsReq.pagerNum=a,this.$http(o["H"],this.detailsReq).then((function(t){e.loading=!1,0===t.resCode&&(e.tableData=t.resData)}))},doAllocation:function(t){var a=this;this.loading=!0,this.$http(o["m"],t).then((function(t){a.loading=!1,0===t.resCode?(a.getData(a.detailsReq.pagerIndex,a.detailsReq.pagerNum),a.$toast.success("分配成功")):a.$toast.error(t.resMsg)}))}},mounted:function(){this.getData(1,this.detailsReq.pagerNum)}},g=b,f=Object(m["a"])(g,i,n,!1,null,"6b4be373",null);a["default"]=f.exports}}]);