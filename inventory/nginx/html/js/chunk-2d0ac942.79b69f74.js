(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ac942"],{"19ae":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=this,a=t.$createElement,l=t._self._c||a;return l("b-overlay",{attrs:{show:t.loading,opacity:"0.5"}},[l("div",{staticClass:"d-flex mb-3 align-items-center"},[l("div",{staticClass:"d-flex flex-column mr-2"},[l("game-select",{model:{value:t.detailsReq.game_name,callback:function(e){t.$set(t.detailsReq,"game_name",e)},expression:"detailsReq.game_name"}}),l("product-select",{staticClass:"mt-1",attrs:{game_name:t.detailsReq.game_name},model:{value:t.detailsReq.package_name,callback:function(e){t.$set(t.detailsReq,"package_name",e)},expression:"detailsReq.package_name"}})],1),l("div",{staticClass:"d-flex flex-column mr-2"},[l("a-input",{attrs:{placeholder:"编号查找",allowClear:""},model:{value:t.detailsReq.order_no,callback:function(e){t.$set(t.detailsReq,"order_no","string"===typeof e?e.trim():e)},expression:"detailsReq.order_no"}}),l("a-select",{staticClass:"mt-1",attrs:{allowClear:"",placeholder:"凭证状态"},model:{value:t.detailsReq.status,callback:function(e){t.$set(t.detailsReq,"status",e)},expression:"detailsReq.status"}},[l("a-select-option",{attrs:{value:"可使用"}},[t._v("可使用")]),l("a-select-option",{attrs:{value:"已分配"}},[t._v("已分配")]),l("a-select-option",{attrs:{value:"使用中"}},[t._v("使用中")]),l("a-select-option",{attrs:{value:"已到账"}},[t._v("已到账")]),l("a-select-option",{attrs:{value:"未到账"}},[t._v("未到账")])],1)],1),l("div",{staticClass:"d-flex flex-column mr-2"},[l("date-packer",{attrs:{placeholder:"入库开始日期"},model:{value:t.detailsReq.importStartDate,callback:function(e){t.$set(t.detailsReq,"importStartDate",e)},expression:"detailsReq.importStartDate"}}),l("date-packer",{staticClass:"mt-1",attrs:{placeholder:"入库结束日期"},model:{value:t.detailsReq.importEndDate,callback:function(e){t.$set(t.detailsReq,"importEndDate",e)},expression:"detailsReq.importEndDate"}})],1),l("div",{staticClass:"d-flex flex-column mr-2"},[l("child-select",{attrs:{placeholder:"入库账户"},model:{value:t.detailsReq.import_child,callback:function(e){t.$set(t.detailsReq,"import_child",e)},expression:"detailsReq.import_child"}})],1),l("l-button",{staticClass:"mr-2",attrs:{msg:"搜索"},on:{click:function(e){return t.getData(1,t.detailsReq.pagerNum)}}}),l("l-button",{staticClass:"mr-2 bt_info",attrs:{msg:"还原数据",icon:"icon-tubiao"},on:{click:t.doUnRecycle}}),l("l-button",{staticClass:"mr-2",attrs:{msg:"删除",type:"danger",icon:"icon-shanchu"},on:{click:t.doDelete}}),l("l-button",{staticClass:"mr-2 bt_warn",attrs:{msg:"清空",icon:"icon-jinggao"},on:{click:t.doClear}})],1),l("b-table",{ref:"recycleDetails",attrs:{hover:"",bordered:"",selectable:"","show-empty":"","empty-text":"暂无数据",items:t.tableData.list,fields:t.columns,"primary-key":"order_no"},on:{"row-selected":function(t){return e.selectedOrderNo=t.map((function(e){return e.order_no}))}},scopedSlots:t._u([{key:"head(selected)",fn:function(){return[l("input",{attrs:{type:"checkbox"},on:{change:function(e){e.target.checked?t.$refs.recycleDetails.selectAllRows():t.$refs.recycleDetails.clearSelected()}}})]},proxy:!0},{key:"cell(selected)",fn:function(e){var t=e.rowSelected;return[l("input",{attrs:{type:"checkbox"},domProps:{checked:t}})]}}])},[l("template",{slot:"table-colgroup"},t._l(t.columns,(function(e){return l("col",{key:e.key,style:{width:e.width}})})),0)],2),l("m-pagination",{attrs:{data:t.tableData,selectArray:t.selectedOrderNo},on:{handleSizeChange:t.getData}})],1)},s=[],o=a("051c"),i=[{key:"selected"},{label:"游戏名称",key:"game_name",width:"20%"},{label:"档位名称",key:"package_name",width:"20%"},{label:"货币代码",key:"currency_code",width:"5%"},{label:"档位价格",key:"package_fee",width:"5%"},{label:"库存单号",key:"order_no",width:"15%"},{label:"库存状态",key:"status",width:"5%"},{label:"入库账户",key:"create_subacount",width:"10%"},{label:"入库时间",key:"create_time",width:"10%"},{label:"删除日期",key:"receipt_time",width:"10%"}],r={name:"Recycle",data:function(){return{columns:i,loading:!1,detailsReq:{game_name:null,package_name:null,order_no:null,status:void 0,importStartDate:void 0,importEndDate:void 0,import_child:null,del_flag:1,pagerIndex:1,pagerNum:100},tableData:{},selectedOrderNo:[]}},methods:{getData:function(e,t){var a=this;this.loading=!0,this.detailsReq.pagerIndex=e,this.detailsReq.pagerNum=t,this.$http(o["E"],this.detailsReq).then((function(e){a.loading=!1,0===e.resCode&&(a.tableData=e.resData)}))},doUnRecycle:function(){var e=this;this.loading=!0,this.$http(o["q"],{order_nos:this.selectedOrderNo,del_flag:0}).then((function(t){e.loading=!1,0===t.resCode?(e.getData(e.detailsReq.pagerIndex,e.detailsReq.pagerNum),e.selectedOrderNo=[],e.$toast.success("操作成功")):e.$toast.error(t.resMsg)}))},doDelete:function(){var e=this;if(0!==this.selectedOrderNo.length){var t=this;this.$toast.confirm("删除将无法恢复","确认删除",(function(){t.$http(o["p"],{order_nos:e.selectedOrderNo}).then((function(t){e.loading=!1,0===t.resCode?(e.getData(e.detailsReq.pagerIndex,e.detailsReq.pagerNum),e.selectedOrderNo=[],e.$toast.success("操作成功")):e.$toast.error(t.resMsg)}))}))}else this.$toast.error("请选择凭证")},doClear:function(){var e=this,t=this;this.$toast.confirm("清空回收站","确认删除",(function(){t.$http(o["p"],{}).then((function(t){e.loading=!1,0===t.resCode?(e.getData(e.detailsReq.pagerIndex,e.detailsReq.pagerNum),e.selectedOrderNo=[],e.$toast.success("操作成功")):e.$toast.error(t.resMsg)}))}))}},mounted:function(){this.getData(1,this.detailsReq.pagerNum)}},n=r,c=a("2877"),d=Object(c["a"])(n,l,s,!1,null,"518024fa",null);t["default"]=d.exports}}]);